<div>
  <nz-table #basicTable [nzData]="cycles">
    <thead>
      <tr>
        <th>Name</th>
        <th>Start Date</th>
        <th>End Date</th>
        <th>Registration Deadline</th>
        <th>Skills</th>
        <th>Action</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let cycle of basicTable.data">
        <td>{{cycle.name}}</td>
        <td>{{cycle.start_date}}</td>
        <td>{{cycle.end_date}}</td>
        <td>{{cycle.deadline}}</td>
        <td *ngFor="let skill of cycle.skills">
          <li>{{skill.name}}</li>
        </td>
        <td>
          <a (click)="deleteCycle(cycle.id)" >Delete</a>
          <nz-divider nzType="vertical"></nz-divider>
          <a (click)="selectedCycle(cycle)">Edit</a>
        </td>
      </tr>
    </tbody>
  </nz-table>
  
</div>

<nz-modal [(nzVisible)]="open" nzTitle="Edit Cycle" (nzOnCancel)="open = false" (nzOnOk)="editCycle()">
  <form nz-form [formGroup]="editForm" (ngSubmit)="Submit()">

    <nz-form-item>
      <nz-form-label [nzSm]="4" [nzXs]="24" nzFor="nickname" nzRequired> Name</nz-form-label>
      <nz-form-control [nzSm]="16" [nzXs]="24">
        <input nz-input id="name" formControlName="name">
        <nz-form-explain *ngIf="editForm.get('name').dirty && editForm.get('name').errors">Please input your cycleName!</nz-form-explain>
      </nz-form-control>
    </nz-form-item>
    <nz-form-item>
      <nz-form-label [nzSm]="4" [nzXs]="24" nzRequired>Start Date</nz-form-label>
      <nz-form-control [nzSm]="16" [nzXs]="24">
        <nz-date-picker nzShowTime nzFormat="yyyy-MM-dd HH:mm:ss" formControlName="startDate"></nz-date-picker>
      </nz-form-control>
    </nz-form-item>
    <nz-form-item>
      <nz-form-label [nzSm]="4" [nzXs]="24" nzRequired>End Date</nz-form-label>
      <nz-form-control [nzSm]="16" [nzXs]="24">
        <nz-date-picker nzShowTime nzFormat="yyyy-MM-dd HH:mm:ss" formControlName="endDate"></nz-date-picker>
      </nz-form-control>
    </nz-form-item>
    <nz-form-item>
      <nz-form-label [nzSm]="4" [nzXs]="24" nzRequired> Deadline</nz-form-label>
      <nz-form-control [nzSm]="16" [nzXs]="24">
        <nz-date-picker nzShowTime nzFormat="yyyy-MM-dd HH:mm:ss"formControlName="deadline"></nz-date-picker>
      </nz-form-control>
    </nz-form-item>
   
  </form>
</nz-modal>



<div>
<form nz-form [formGroup]="validateForm" (ngSubmit)="newCycle()">

  <nz-form-item>
    <nz-form-label [nzSm]="4" [nzXs]="24" nzFor="nickname" nzRequired> Cycle Name</nz-form-label>
    <nz-form-control [nzSm]="16" [nzXs]="24">
      <input nz-input id="cycleName" formControlName="cycleName">
      <nz-form-explain *ngIf="validateForm.get('cycleName').dirty && validateForm.get('cycleName').errors">Please input your cycleName!</nz-form-explain>
    </nz-form-control>
  </nz-form-item>
  <nz-form-item>
    <nz-form-label [nzSm]="4" [nzXs]="24" nzRequired>Start Date</nz-form-label>
    <nz-form-control [nzSm]="16" [nzXs]="24">
      <nz-date-picker nzShowTime nzFormat="yyyy-MM-dd HH:mm:ss" formControlName="startDate"></nz-date-picker>
    </nz-form-control>
  </nz-form-item>
  <nz-form-item>
    <nz-form-label [nzSm]="4" [nzXs]="24" nzRequired>End Date</nz-form-label>
    <nz-form-control [nzSm]="16" [nzXs]="24">
      <nz-date-picker nzShowTime nzFormat="yyyy-MM-dd HH:mm:ss" formControlName="endDate"></nz-date-picker>
    </nz-form-control>
  </nz-form-item>
  <nz-form-item>
    <nz-form-label [nzSm]="4" [nzXs]="24" nzRequired>Registration Deadline</nz-form-label>
    <nz-form-control [nzSm]="16" [nzXs]="24">
      <nz-date-picker nzShowTime nzFormat="yyyy-MM-dd HH:mm:ss"formControlName="deadline"></nz-date-picker>
    </nz-form-control>
  </nz-form-item>





  <nz-form-item>
    <nz-form-control [nzXs]="{ span: 24, offset: 0 }" [nzSm]="{ span: 16, offset: 4 }">
      <button nz-button nzType="primary">Submit</button>
    </nz-form-control>
  </nz-form-item>
</form>
</div>
